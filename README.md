<div align="center">

# Claude Powerline (Fork)

**Fork of [Owloops/claude-powerline](https://github.com/Owloops/claude-powerline) with context progress bar and session tracking.**

![License:MIT](https://img.shields.io/static/v1?label=License&message=MIT&color=blue&style=flat-square)

### What's New in This Fork

- **Context progress bar** with color-coded thresholds (green/yellow/red)
- **Session token tracking** showing input/output/total
- **Message count** and **compaction count**
- Separate lines for Session vs Context with clear labels

### Demo

```
~/Downloads/project   main ●   * Opus 4.5
Session 4.5K↓ 75K↑ (79.5K) · 15 msgs · 2⟲
Context [████████░░] 80% · 18.2K
```

</div>

## Installation

Requires Node.js 18+, Claude Code, and Git 2.0+. For best display, install a [Nerd Font](https://www.nerdfonts.com/).

**Add to your Claude Code `settings.json`:**

```json
{
  "statusLine": {
    "type": "command",
    "command": "npx -y github:alexmeckes/claude-powerline --style=powerline"
  }
}
```

## Configuration

**Get example config:**

```bash
curl -o ~/.claude/claude-powerline.json https://raw.githubusercontent.com/alexmeckes/claude-powerline/main/.claude-powerline.json
```

**Recommended config for new features:**

```json
{
  "theme": "dark",
  "display": {
    "style": "powerline",
    "lines": [
      {
        "segments": {
          "directory": { "enabled": true },
          "git": { "enabled": true },
          "model": { "enabled": true }
        }
      },
      {
        "segments": {
          "session": { "enabled": true, "type": "tokens" }
        }
      },
      {
        "segments": {
          "context": {
            "enabled": true,
            "style": "bar",
            "barWidth": 10,
            "showBarPercentage": true,
            "showBarTokens": true,
            "thresholds": { "low": 50, "high": 80 }
          }
        }
      }
    ]
  }
}
```

## New Segment Options

### Context (Enhanced)

```json
"context": {
  "enabled": true,
  "style": "bar",
  "barWidth": 10,
  "showBarPercentage": true,
  "showBarTokens": true,
  "thresholds": { "low": 50, "high": 80 }
}
```

| Option | Description |
|--------|-------------|
| `style` | `"text"` (default) or `"bar"` for progress bar |
| `barWidth` | Width of progress bar in characters (default: 10) |
| `showBarPercentage` | Show percentage next to bar (default: true) |
| `showBarTokens` | Show token count next to bar (default: true) |
| `thresholds.low` | Percentage for green→yellow transition (default: 50) |
| `thresholds.high` | Percentage for yellow→red transition (default: 80) |

**Display:** `Context [████████░░] 80% · 18.2K`

### Session (Enhanced)

```json
"session": {
  "enabled": true,
  "type": "tokens",
  "showCompactCount": true
}
```

| Option | Description |
|--------|-------------|
| `type` | `"cost"`, `"tokens"`, `"both"`, or `"breakdown"` |
| `showCompactCount` | Show compaction count with ⟲ symbol (default: true) |

**Display:** `Session 4.5K↓ 75K↑ (79.5K) · 15 msgs · 2⟲`

- `↓` = input tokens (sent to API)
- `↑` = output tokens (generated by Claude)
- `msgs` = total API exchanges
- `⟲` = number of context compactions

## All Features

This fork includes all features from the original project:

- **6 built-in themes** - dark, light, nord, tokyo-night, rose-pine, gruvbox
- **Multiple styles** - minimal, powerline, capsule separators
- **Git integration** - branch, status, ahead/behind, stash count
- **Real-time usage tracking** - session costs, rate limits, daily totals
- **Auto-wrap layout** - segments wrap based on terminal width
- **Zero dependencies** - lightweight and fast

See the [original documentation](https://github.com/Owloops/claude-powerline) for full feature details.

## CLI Options

- `--theme` - `dark` (default), `light`, `nord`, `tokyo-night`, `rose-pine`, `gruvbox`
- `--style` - `minimal` (default), `powerline`, `capsule`
- `--charset` - `unicode` (default), `text`
- `--config` - Custom config file path

## Attribution

Forked from [Owloops/claude-powerline](https://github.com/Owloops/claude-powerline) - MIT License

Original project by the Owloops team. Fork additions by alexmeckes with Claude.

## License

This project is licensed under the [MIT License](LICENSE).
